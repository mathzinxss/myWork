<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
    <script>
        
        window.onload=function(){
            /*
            //prefixes of implementation that we want to test<br>
            window.indexedDB = window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB;
            //prefixes of window.IDB objects
            window.IDBTransaction = window.IDBTransaction || window.webkitIDBTransaction || window.msIDBTransaction;
            window.IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange || window.msIDBKeyRange
            if (!window.indexedDB) {
                window.alert("Seu navegador nao suporta uma versao estavel do IndexedDB.")
            }
            */
            const alunosDados = [
                    { id: "1", nome: "Carlos", idade: 35, email: "carlos@impacta.com.br" },
                    { id: "2", nome: "Vitoria", idade: 32, email: "vitoria@impacta.com.br" },
                    { id: "3", nome: "Bruno", idade: 17, email: "bruno@impacta.com.br" },
                    { id: "4", nome: "Andre", idade: 28, email: "andre@impacta.com.br" },
                    { id: "5", nome: "Mariana", idade: 20, email: "mariana@impacta.com.br" },
                    { id: "6", nome: "Lilia", idade: 42, email: "lilia@impacta.com.br" }
            ];

            var db;
            var request = window.indexedDB.open("AlunosDB", 1);
            request.onerror = function(event) {
                console.log("error: ");
            };
            request.onsuccess = function(event) {
                db = request.result;
                console.log("success: "+ db);
            };
            
            request.onupgradeneeded = function(event) {
                var db = event.target.result;
                var objectStore = db.createObjectStore("alunos", {keyPath: "id"});
                for (var i in alunosDados) {
                        objectStore.add(alunosDados[i]);
                }
            }
            /**/
           
        }
    </script>
</head>
<body>
    Nome:<input type="text" id="nome">
    <br>
    Idade:<input type="text" id="idade">
    <br>
    <input type="button" id="salvar" value="Salvar!!!!!">
    <br><br>
    <input type="button" id="ler" value="Ler!!!!!">
    <input type="button" id="apagar" value="Apagar!!!!!">
    <hr>
    <p id="mensagem">Mensagem</p>
</body>
</html>